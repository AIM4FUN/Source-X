[== Exploits/Bugfixes ==]
- Doubleclick on a char in war mode should make you criminal instantly. This will solve the
  issue with pets attacking, and make it more correct way for any combat system.
- NPC still flashing lights when they have torches (not candles). They reequip them due to some reason.

[== CRs (Change Requests) ==]
- add built-in support for this system http://uo.stratics.com/content/professions/taming/taming-pets.shtml + changing current and max pet
- Fix the way the next combat target is selected, since if you say KILL to your pet and after
  that dclick the other enemy in war mode, it will rush over this pet instead of the ordered.

[== New Features ==]
- Daily snapshot - copies saves + scripts to one archive named YYYYMMDD.zip
- Allow taking items from your vendors/pets via paperdoll
- Each gold operation on the container should modify the player char gold variable so no status rescount will be needed.

=====================

Sphere .57

1. rewrite ResourceLock - it should not be needed on a new script engine
2. add background thread looping up the world to get the walkability flags of the specifyed point,
  thus allowing to speed up heavily the walkcheck operators. it should reflect changes only in
  active sectors, so with a good sleeping will be absolutely transparent and ultimate fast. it should
  gather both world, statics, items and characters to bear in mind in the spot
3. add basic SQL support, like SELECT name,value FROM items WHERE weight>15
4. do networking receiving to simple easy maintainable classes
5. do network packets sending with packeting priorities
6. crash dump - get as much info as possible (list of threads, their state, used strings, exc status, clients,
  experimental, optional, items, npcs), some more info.
  usualy such dumpers work as a small loaders for a big executable in dll or so, thus allowing to catch event when crashing
  however, some good suitable way should be implemented.
7, change LAYER_DRAGGING to CItem *holding = NULL; attribute for character, it will heavily simplify many things
  also CLIMODE_DRAG will not be needed anymore

=====================

Notes: Compile-time defines
DEBUGTASK		- executes debugging thread
DEBUGTIMING		- debug execution time of script executions
DEBUGPACKETS	- debug incoming and outgoing packets

replace random templates to something like this, simple and easy:

class RandomGroup
{
public:
	RandomGroup()
	{
		m_total = 0;
	}
	~RandomGroup()
	{
		m_data.empty();
	}

	RESOURCE_ID random()
	{
		if ( isValid() )
		{
			vector<CResourceQty>::iterator it;
			long need = Calc_GetRandVal(m_total);
			long current = 0;

			for ( it = m_data.begin(); it != m_data.end(); it++ )
			{
				current += (*it).GetResQty();
				if ( current > need )
				{
					return (*it).GetResourceID();
				}
			}
		}
		return RESOURCE_ID();
	}

	bool isValid()
	{
		return ( m_total > 0 );
	}

protected:
	vector<CResourceQty>	m_data;
	long					m_total;
};
